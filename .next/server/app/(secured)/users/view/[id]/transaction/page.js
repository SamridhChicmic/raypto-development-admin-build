(()=>{var e={};e.id=6401,e.ids=[6401],e.modules={2127:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/samridhgupta/Documents/React/ClientProject/Client-raypto-admin/src/app/(secured)/users/view/[id]/transaction/TransactionStatsChart.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/samridhgupta/Documents/React/ClientProject/Client-raypto-admin/src/app/(secured)/users/view/[id]/transaction/TransactionStatsChart.tsx","default")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11e3:(e,t,r)=>{"use strict";r.d(t,{default:()=>S});var a=r(60687),s=r(16189),i=r(43210),o=r(17950),n=r(57594),l=r(12941),d=r(13943),c=r(98450),u=r(43782),p=r(88604),m=r(69906),f=r(80273);let x="bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",h="bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",b=e=>Object.entries(e).map(([e,t])=>({label:t,value:Number(e)})),y=b(c.sp),g=b(c.V3),v=b(c.jP),j=b(c.Zd),w=b(c.Iq),C=(e,t)=>(0,a.jsx)("span",{className:`px-2 py-1 rounded-full text-[0.875] font-medium ${t}`,children:e}),k=e=>{switch(e){case c.HB.WIN:return{label:"Win",colorClass:x};case c.HB.LOSS:return{label:"Loss",colorClass:h};default:return{label:"-",colorClass:""}}},P=e=>({1:"bg-yellow-100 text-yellow-800",2:x,3:h})[e]||"bg-gray-100 text-gray-800",S=({data:e,count:t,initialFromDate:r,initialToDate:x,initialSortKey:h="",initialSortDirection:b=1})=>{let S=(0,s.useRouter)(),[D,N]=(0,i.useState)(!1),A=()=>{N(!1)},R=()=>{N(!1)},T=[{field:"_id",title:"Transaction ID",render:e=>e?._id?`#${e._id.slice(-8)}`:""},(0,u.Jr)("currency","Currency",e=>c.sp[e.currency]||"Unknown"),(0,u.Jr)("withdrawableBalance","Amount",e=>{let t=e.withdrawableBalance,r=t>=0;return(0,a.jsxs)("span",{className:r?"text-green-600":"text-red-600",children:[r?"+":"",t.toFixed(2)]})}),(0,u.Jr)("gameMultiplier","Multiplier",e=>(0,a.jsx)("span",{className:`font-medium ${(e.gameMultiplier||0)>0?"text-green-600":"text-gray-500"}`,children:(e.gameMultiplier||0)>0?`${e.gameMultiplier.toFixed(2)}x`:"-"})),(0,u.Jr)("type","Type",e=>C(c.jP[e.type]||"Unknown","")),{field:"gameResult",title:"Result",render:e=>{let{label:t,colorClass:r}=k(e.gameResult);return r?C(t,r):(0,a.jsx)("span",{children:t})}},(0,u.Jr)("gameType","Game",e=>c.Zd[e.gameType]?C(c.Zd[e.gameType],"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400"):(0,a.jsx)("span",{children:"-"})),(0,u.Jr)("status","Status",e=>C(c.V3[e.status]||"Unknown",P(e.status))),(0,u.Jr)("createdAt","Date",e=>e.createdAt?new Date(e.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"")],F=(0,i.useMemo)(()=>({columns:T,keyExtractor:e=>e._id,paginationTitle:"transactions",hideSelectCol:!0,emptyMessage:"No transactions found",queryConfig:{defaultSortKey:h,defaultSortDirection:b,skipFirstRender:!0},header:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800",children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6 justify-between items-center",children:[(0,a.jsx)("h3",{className:`text-[1.5rem] font-bold ${f.YH}`,children:"Transaction Statistics"}),(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsxs)("button",{onClick:()=>N(!0),className:"flex items-center space-x-2 px-4 py-2 bg-[#4F46E5] text-white rounded-[8px] hover:bg-[#3311DD] transition-all duration-200 focus:outline-none focus:ring-0 font-medium",children:[(0,a.jsx)(l.A,{size:18}),(0,a.jsx)("span",{children:"Filters"})]})})]})}),(0,a.jsx)(n.A,{isOpen:D,onClose:()=>N(!1),title:"Transaction Filters",footer:(0,a.jsxs)("button",{onClick:()=>{S.replace(window.location.pathname),R()},className:"w-full flex items-center justify-center space-x-2 px-4 py-2.5 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-700 transition-all border border-gray-200 dark:border-gray-700 font-medium",children:[(0,a.jsx)(d.A,{size:18}),(0,a.jsx)("span",{children:"Clear All Filters"})]}),children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"date-range-filter",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date Range"}),(0,a.jsx)(p.A,{id:"date-range-filter",initialFromDate:r,initialToDate:x,onApply:A,onClear:R})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"currency-filter",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Currency"}),(0,a.jsx)(o.A,{id:"currency-filter",paramName:"currency",options:y,placeholder:"Filter by Currency"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"status-filter",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),(0,a.jsx)(o.A,{id:"status-filter",paramName:"status",options:g,placeholder:"Filter by Status"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"type-filter",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Type"}),(0,a.jsx)(o.A,{id:"type-filter",paramName:"type",options:v,placeholder:"Filter by Type"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"game-type-filter",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Game"}),(0,a.jsx)(o.A,{id:"game-type-filter",paramName:"gameType",options:j,placeholder:"Filter by Game"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"result-filter",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Result"}),(0,a.jsx)(o.A,{id:"result-filter",paramName:"gameResult",options:w,placeholder:"Filter by Result"})]})]})})]})}),[T,h,b,D,r,x,S]);return(0,a.jsx)(m.b,{data:e,totalCount:t,config:F})}},12394:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var a=r(65239),s=r(48088),i=r(88170),o=r.n(i),n=r(30893),l={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);r.d(t,l);let d={children:["",{children:["(secured)",{children:["users",{children:["view",{children:["[id]",{children:["transaction",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,47499)),"/Users/samridhgupta/Documents/React/ClientProject/Client-raypto-admin/src/app/(secured)/users/view/[id]/transaction/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,76836)),"/Users/samridhgupta/Documents/React/ClientProject/Client-raypto-admin/src/app/(secured)/users/view/[id]/layout.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,44655)),"/Users/samridhgupta/Documents/React/ClientProject/Client-raypto-admin/src/app/(secured)/layout.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"/Users/samridhgupta/Documents/React/ClientProject/Client-raypto-admin/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,54413)),"/Users/samridhgupta/Documents/React/ClientProject/Client-raypto-admin/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/samridhgupta/Documents/React/ClientProject/Client-raypto-admin/src/app/(secured)/users/view/[id]/transaction/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/(secured)/users/view/[id]/transaction/page",pathname:"/users/view/[id]/transaction",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},24685:(e,t,r)=>{Promise.resolve().then(r.bind(r,67802)),Promise.resolve().then(r.bind(r,2127)),Promise.resolve().then(r.bind(r,74554))},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},47499:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var a=r(37413),s=r(62205),i=r(78850),o=r(74554),n=r(2127),l=r(67802);let d=async({params:e,searchParams:t})=>{let{id:r}=await e,{skip:d,limit:c,fromDate:u,toDate:p,statsFromDate:m,statsToDate:f,sortKey:x,sortDirection:h,currency:b,status:y,type:g,gameType:v,gameResult:j}=await t,[w,C]=await Promise.all([(0,i.iq)(s.r.USER_TRANSACTIONS,{userId:r,...d&&{skip:d},...c&&{limit:c},...u&&{fromDate:u},...p&&{toDate:p},...x&&{sortKey:x},...h&&{sortDirection:h},...b&&{currency:b},...y&&{status:y},...g&&{type:g},...v&&{gameType:v},...j&&{gameResult:j}}),(0,i.iq)(s.r.TRANSACTION_STATS,{userId:r,...m&&{fromDate:m},...f&&{toDate:f}})]);return console.log("statsData",C),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"bg-white rounded-[20px] dark:bg-gray-900 dark:border-gray-800 w-full",children:(0,a.jsx)(o.default,{data:w?.data?.data||[],count:w?.data?.count||0,initialFromDate:u,initialToDate:p,initialSortKey:x,initialSortDirection:h})}),(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6",children:[(0,a.jsx)(n.default,{stats:C?.data?.stats||[],initialFromDate:m,initialToDate:f}),(0,a.jsx)(l.default,{userId:r})]})]})}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},67802:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/samridhgupta/Documents/React/ClientProject/Client-raypto-admin/src/app/(secured)/users/view/[id]/transaction/GamePlayedUserChart.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/samridhgupta/Documents/React/ClientProject/Client-raypto-admin/src/app/(secured)/users/view/[id]/transaction/GamePlayedUserChart.tsx","default")},71457:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var a=r(60687),s=r(30036),i=r(16189),o=r(98450),n=r(43782),l=r(1727);let d=(0,s.default)(async()=>{},{loadableGenerated:{modules:["app/(secured)/users/view/[id]/transaction/TransactionStatsChart.tsx -> react-apexcharts"]},ssr:!1}),c=({stats:e,initialFromDate:t,initialToDate:r})=>{let s=(0,i.useRouter)(),c=(0,i.usePathname)(),u=(0,i.useSearchParams)(),p=[...e].sort((e,t)=>e.currency-t.currency),m=p.map(e=>o.sp[e.currency]||`Currency ${e.currency}`),f=p.map(e=>Math.round(100*e.moneyEarned)/100),x=p.map(e=>Math.abs(Math.round(100*e.moneySpent)/100)),h={chart:{type:"bar",height:350,toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",borderRadius:4}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:m,labels:{style:{colors:"#a3aed0",fontFamily:"inherit"}}},yaxis:{labels:{style:{colors:"#a3aed0",fontFamily:"inherit"},formatter:e=>(0,n.vv)(e)}},fill:{type:"gradient",gradient:{shade:"light",type:"vertical",shadeIntensity:1,opacityFrom:.8,opacityTo:.3,colorStops:[[{offset:0,color:"#10B981",opacity:1},{offset:100,color:"#ffffff",opacity:0}],[{offset:0,color:"#EF4444",opacity:1},{offset:100,color:"#ffffff",opacity:0}]]}},colors:["#10B981","#EF4444"],legend:{position:"top",horizontalAlign:"right",labels:{colors:"#a3aed0"},show:!0},tooltip:{marker:{show:!0},y:{formatter:e=>(0,n.vv)(e)}},grid:{borderColor:"transparent",strokeDashArray:4}};return(0,a.jsxs)("div",{className:"flex-1 bg-white rounded-[20px]  p-6 dark:bg-gray-900 dark:border-gray-800",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("div",{className:"flex items-center justify-start w-full",children:(0,a.jsx)("h3",{className:"text-[1.5rem] font-bold text-[#1B2559] dark:text-white w-full",children:"Transaction Statistics"})}),(0,a.jsx)("div",{className:"flex items-center justify-end",children:(0,a.jsx)(l.A,{initialFromDate:t,initialToDate:r,useUrlParams:!1,onApply:(e,t)=>{let r=new URLSearchParams(u.toString());e?r.set("statsFromDate",e):r.delete("statsFromDate"),t?r.set("statsToDate",t):r.delete("statsToDate"),s.replace(`${c}?${r.toString()}`,{scroll:!1})},onClear:()=>{let e=new URLSearchParams(u.toString());e.delete("statsFromDate"),e.delete("statsToDate"),s.replace(`${c}?${e.toString()}`,{scroll:!1})}})})]}),e.length>0?(0,a.jsx)(d,{type:"bar",height:400,series:[{name:"Money Earned",data:f},{name:"Money Spent",data:x}],options:h}):(0,a.jsx)("div",{className:"flex items-center justify-center h-[300px] text-gray-500",children:"No transaction data available"})]})}},71949:(e,t,r)=>{Promise.resolve().then(r.bind(r,80187)),Promise.resolve().then(r.bind(r,71457)),Promise.resolve().then(r.bind(r,11e3))},74075:e=>{"use strict";e.exports=require("zlib")},74554:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/samridhgupta/Documents/React/ClientProject/Client-raypto-admin/src/app/(secured)/users/view/[id]/transaction/TransactionTable.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/samridhgupta/Documents/React/ClientProject/Client-raypto-admin/src/app/(secured)/users/view/[id]/transaction/TransactionTable.tsx","default")},75722:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"000b6b2c133f9c7cbaa8a4d723e00118c714f25f23":()=>a.Zm,"400d95d3287c7882ed038333d7413f64d701105768":()=>s.Dv,"400f16383cce15253a797281f8198c0d93aaa5eb80":()=>s.PU,"40108e8f5ebfa2b0f3d5a962926f2b4cf15341c473":()=>a.$n,"40197c5ea0dd22e01be5b0373a7d8a282fb15a86d0":()=>s.v0,"401e0fca50b962c2ceddd73218f797ca5df6653519":()=>s._p,"40276c4b99e9b07cd9e4ec17a986b250798077d42a":()=>s.gS,"402d922330b2d92cbfd0ed31d0d592cf8f529a3ea2":()=>s.ld,"4034a10472a0acfe0f39246fa5206a2b6138c09d2f":()=>a._4,"4061041c0a4ab683d7ce3104daaa61ad1e43eeee48":()=>s.q0,"40779fbcdf441fcd5c09f6e3ed750283ce4317a683":()=>s.Ve,"40a9baeb5620775e1997942c9413824c2ba046ea96":()=>s.kk,"40b781004fb31b1d8412985979dc9570563c9330df":()=>s.Hj,"40ba7e2c6be9d32183c10eb53b599a8d6559bbb85e":()=>a.iC,"40cbeb0f4d2627c859171168462822ebb7d615fedf":()=>s.ZB,"40d2954c22d97e06fc75c79ade05da92cbc65498cd":()=>s.AR,"40d970ba770d3cd741a4cf2d59dea5fb8d7ff923ef":()=>s.P9,"40dbfb0ce166710b27a32e3c7fb104039a467cfa15":()=>s.Zz,"40f845606bc904935a42ded8545873f1ebb9340de2":()=>s.R$});var a=r(87665),s=r(8450)},79551:e=>{"use strict";e.exports=require("url")},80187:(e,t,r)=>{"use strict";r.d(t,{default:()=>m});var a=r(60687),s=r(43210),i=r(6475);let o=(0,i.createServerReference)("40276c4b99e9b07cd9e4ec17a986b250798077d42a",i.callServer,void 0,i.findSourceMapURL,"fetchUserGamesPlayedAction");var n=r(1727),l=r(98004);let d="#4F46E5",c={colors:"#A3AED0",fontFamily:"inherit"},u=e=>({chart:{type:"bar",toolbar:{show:!1},zoom:{enabled:!1}},plotOptions:{bar:{borderRadius:6,columnWidth:"50%",dataLabels:{position:"top"}}},xaxis:{categories:e,labels:{style:{...c,fontSize:"12px"}},axisBorder:{show:!0},axisTicks:{show:!0}},yaxis:{labels:{style:c,formatter:e=>Math.round(e).toString()}},colors:[d],fill:{type:"gradient",gradient:{shade:"light",type:"vertical",shadeIntensity:1,opacityFrom:.8,opacityTo:.3,colorStops:[{offset:0,color:d,opacity:1},{offset:100,color:"#ffffff",opacity:0}]}},tooltip:{y:{formatter:e=>e.toString()}},grid:{borderColor:"transparent",strokeDashArray:4},dataLabels:{enabled:!0,formatter:e=>e.toString(),offsetY:-20,style:{fontSize:"12px",colors:["#9CA3AF"]}}}),p=e=>[{name:"Game Played",data:e}],m=({userId:e,className:t=""})=>{let[r,i]=(0,s.useState)({}),[d,c]=(0,s.useState)([]),[m,f]=(0,s.useState)(!0);(0,s.useEffect)(()=>{(async()=>{f(!0);try{let t=await o({userId:e,...r.from&&{fromDate:r.from},...r.to&&{toDate:r.to}});t?.status&&t?.data?.result?c(t.data.result):c([])}catch(e){console.error("Error fetching user games played:",e),c([])}finally{f(!1)}})()},[e,r]);let x=d.map(e=>new Date(e.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})),h=d.map(e=>e.gamesPlayed),b=u(x),y=p(h);return(0,a.jsxs)("div",{className:`flex-1 bg-white rounded-[20px] p-6 dark:bg-gray-900 dark:border-gray-800 ${t}`,children:[(0,a.jsxs)("div",{className:"flex md:flex-row md:items-center justify-between mb-6 gap-4",children:[(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("h3",{className:"text-[1.5rem] font-bold text-[#1B2559] dark:text-white",children:"Games Played"}),(0,a.jsx)("p",{className:"text-[14px] font-medium text-[#A3AED0] dark:text-gray-400",children:"Number of games played over time"})]}),(0,a.jsx)("div",{className:"flex flex-wrap items-center gap-4",children:(0,a.jsx)(n.A,{useUrlParams:!1,onApply:(e,t)=>i({from:e,to:t}),onClear:()=>i({})})})]}),(0,a.jsx)(l.d,{loading:m,hasData:d.length>0,series:y,options:b,height:300,emptyMessage:"No games played data available"})]})}},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[4447,4999,2026,7107,3743,4553,2337,416,8486,4001,7671,630,4592,8369,2221,6097],()=>r(12394));module.exports=a})();