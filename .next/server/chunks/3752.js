exports.id=3752,exports.ids=[3752],exports.modules={5748:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(62688).A)("flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]])},11737:(e,a,t)=>{Promise.resolve().then(t.bind(t,92345))},28984:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>l});var s=t(37413),r=t(91361),i=t(62205),n=t(78850);let l=async({params:e,children:a})=>{let{id:t}=await e,[l]=await Promise.all([(0,n.iq)(i.r.COMPANY,{...t&&{companyId:t}})]);console.log(l);let o=l.data.companies[0]||{_id:t,companyName:"Loading...",email:"",contactNumber:"",country:"US",sector:"AGRICULTURE_FOOD",isSuspended:!1,isVerified:!1,status:"Pending",flagsCount:0};return(0,s.jsx)(r.default,{data:o,children:a})}},68485:(e,a,t)=>{"use strict";t.d(a,{A:()=>i});var s=t(60687),r=t(74043);let i=({isOpen:e,onClose:a,onConfirm:t,title:i,message:n,isLoading:l=!1})=>(0,s.jsx)(r.A,{isOpen:e,onClose:a,title:i,size:"md",children:(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("p",{className:"text-gray-700 mb-4 dark:text-white",children:n}),(0,s.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,s.jsx)("button",{onClick:a,className:"disabled:opacity-50 px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 dark:bg-gray-800 dark:text-white",disabled:l,children:"Cancel"}),(0,s.jsx)("button",{onClick:t,className:"disabled:opacity-50 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 dark:bg-red-600 dark:text-white",disabled:l,children:"Confirm"})]})]})})},69033:(e,a,t)=>{"use strict";t.d(a,{A:()=>o});var s=t(60687),r=t(49384),i=t(43210),n=t(22661);let l={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl"},o=({isOpen:e,onClose:a,title:t,children:o,className:c="",size:d="lg"})=>((0,i.useEffect)(()=>{let t=e=>{"Escape"===e.key&&a()};return e&&document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[e,a]),e)?(0,s.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-white/10 backdrop-blur-sm dark:bg-gray-900/50",children:(0,s.jsx)(n.A,{onClick:a,className:(0,r.A)("w-full",l[d],c),children:(0,s.jsxs)("div",{className:`bg-white rounded-lg shadow-lg p-6 relative dark:bg-gray-900 dark:border-gray-800 ${c}`,role:"dialog","aria-modal":"true",children:[(0,s.jsx)("button",{onClick:a,className:"absolute top-3 right-3 text-gray-400 hover:text-gray-600 text-lg dark:text-white","aria-label":"Close",children:"âœ•"}),t&&(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4 dark:text-white",children:t}),o]})})}):null},74043:(e,a,t)=>{"use strict";t.d(a,{A:()=>s.A});var s=t(69033)},75289:(e,a,t)=>{Promise.resolve().then(t.bind(t,91361))},88233:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(62688).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},91361:(e,a,t)=>{"use strict";t.d(a,{default:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/samridhgupta/Documents/React/ClientProject/Client-raypto-admin/src/components/layouts/CompanyLayout/CompanyLayout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/samridhgupta/Documents/React/ClientProject/Client-raypto-admin/src/components/layouts/CompanyLayout/CompanyLayout.tsx","default")},92345:(e,a,t)=>{"use strict";t.d(a,{default:()=>A});var s=t(60687),r=t(43210),i=t(16189);let n={TABS:[{name:"Profile",path:"profile",icon:"\uD83C\uDFE2",description:"Company profile and information"},{name:"Jobs",path:"jobs",icon:"\uD83D\uDCBC",description:"Job listings and opportunities"},{name:"Applications",path:"applications",icon:"\uD83D\uDCDD",description:"Job applications and candidates"},{name:"Events",path:"events",icon:"\uD83D\uDCC5",description:"Company events and activities"}]},l=({companyId:e})=>{let a=(0,i.useRouter)(),t=(0,i.usePathname)(),r=n.TABS.map(a=>({name:a.name,path:`/companies/view/${e}/${a.path}`,icon:a.icon,description:a.description})),l=a=>a.includes("/profile")?t.includes("/profile")||t===`/companies/view/${e}`:t.includes(a);return(0,s.jsx)("div",{className:"flex gap-4 border-b overflow-x-auto",children:r.map(e=>(0,s.jsxs)("button",{onClick:()=>a.push(e.path),className:`px-4 py-2 text-sm font-medium border-b-2 cursor-pointer flex items-center space-x-2 ${l(e.path)?"text-primary border-primary":"text-gray-500 border-transparent hover:text-primary"}`,title:e.description,children:[(0,s.jsx)("span",{className:"text-base",children:e.icon}),(0,s.jsx)("span",{className:"dark:text-gray-300",children:e.name})]},e.name))})};var o=t(62688);let c=(0,o.A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),d=(0,o.A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),m=(0,o.A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),p=(0,o.A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);var u=t(5748),y=t(88233);let h=(0,o.A)("ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);var x=t(13943),g=t(93853),b=t(68485);let f={VERIFY:"verify",APPROVE:"approve",REJECT:"reject",FEATURE:"feature",FLAG:"flag",SPAM:"spam",DELETE:"delete",BAN:"ban",RESTORE:"restore"};f.VERIFY,f.APPROVE,f.REJECT,f.FEATURE,f.FLAG,f.SPAM,f.DELETE,f.BAN,f.RESTORE;let v={[f.VERIFY]:{title:"Verify Company",message:"Are you sure you want to verify this company? This will mark the company as verified and increase their trust score.",variant:"success"},[f.APPROVE]:{title:"Approve Company",message:"Are you sure you want to approve this company? This will make it visible to the public.",variant:"success"},[f.REJECT]:{title:"Reject Company",message:"Are you sure you want to reject this company? This will hide it from the public.",variant:"danger"},[f.FEATURE]:{title:"Feature Company",message:"Are you sure you want to feature this company? This will promote it on the homepage.",variant:"primary"},[f.FLAG]:{title:"Flag Company",message:"Are you sure you want to flag this company for review? This will mark it for admin attention.",variant:"warning"},[f.SPAM]:{title:"Mark as Spam",message:"Are you sure you want to mark this company as spam? This will affect the company's trust score.",variant:"warning"},[f.DELETE]:{title:"Delete Company",message:"Are you sure you want to permanently delete this company? This action cannot be undone.",variant:"danger"},[f.BAN]:{title:"Ban Company",message:"Are you sure you want to ban this company? This will prevent them from accessing the platform.",variant:"danger"},[f.RESTORE]:{title:"Restore Company",message:"Are you sure you want to restore this company? This will make it visible again.",variant:"success"}};var w=t(43782),k=t(98450);let j=({company:e,onAction:a,isLoading:t})=>{let[i,n]=(0,r.useState)({open:!1}),l=t=>{let s=v[t];s?n({open:!0,action:t,title:s.title,message:s.message.replace("this company",`"${e.companyName}"`)}):a(t)},o=e=>{let a="flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed";switch(e){case"primary":return`${a} bg-blue-600 text-white hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-700`;case"danger":return`${a} bg-red-600 text-white hover:bg-red-700 dark:bg-red-600 dark:hover:bg-red-700`;case"warning":return`${a} bg-yellow-600 text-white hover:bg-yellow-700 dark:bg-yellow-600 dark:hover:bg-yellow-700`;case"success":return`${a} bg-green-600 text-white hover:bg-green-700 dark:bg-green-600 dark:hover:bg-green-700`;default:return`${a} bg-gray-600 text-white hover:bg-gray-700 dark:bg-gray-600 dark:hover:bg-gray-700`}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Admin Actions"})}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-6 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Company Status:"}),(0,s.jsx)("span",{className:`ml-2 font-medium ${(0,w.qY)(e.status)}`,children:e.status?k.j$[e.status]:"Active"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Verification:"}),(0,s.jsx)("span",{className:"ml-2 font-medium text-green-600 dark:text-green-400",children:e.isVerified?"Verified":"Not Verified"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Flags:"}),(0,s.jsx)("span",{className:"ml-2 font-medium text-red-600 dark:text-red-400",children:e.flagsCount||0})]})]}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[!e.isVerified&&(0,s.jsxs)("button",{onClick:()=>l(f.VERIFY),disabled:t,className:o("success"),children:[(0,s.jsx)(c,{className:"w-4 h-4"}),"Verify"]}),(e.status===k.li.PENDING||e.status===k.li.FLAGGED)&&(0,s.jsxs)("button",{onClick:()=>l(f.APPROVE),disabled:t,className:o("success"),children:[(0,s.jsx)(d,{className:"w-4 h-4"}),"Approve"]}),(e.status===k.li.PENDING||e.status===k.li.FLAGGED)&&(0,s.jsxs)("button",{onClick:()=>l(f.REJECT),disabled:t,className:o("danger"),type:"button",children:[(0,s.jsx)(m,{className:"w-4 h-4"}),"Reject"]}),e.status===k.li.APPROVED&&(0,s.jsxs)("button",{onClick:()=>l(f.FEATURE),disabled:t,className:o("primary"),children:[(0,s.jsx)(p,{className:"w-4 h-4"}),"Feature"]}),(0,s.jsxs)("button",{onClick:()=>l(f.FLAG),disabled:t,className:o("warning"),children:[(0,s.jsx)(u.A,{className:"w-4 h-4"}),"Flag"]}),(0,s.jsxs)("button",{onClick:()=>l(f.SPAM),disabled:t,className:o("warning"),children:[(0,s.jsx)(u.A,{className:"w-4 h-4"}),"Mark as Spam"]}),(0,s.jsxs)("button",{onClick:()=>l(f.DELETE),disabled:t,className:o("danger"),children:[(0,s.jsx)(y.A,{className:"w-4 h-4"}),"Delete"]}),(0,s.jsxs)("button",{onClick:()=>l(f.BAN),disabled:t,className:o("danger"),children:[(0,s.jsx)(h,{className:"w-4 h-4"}),"Ban"]}),(e.status===k.li.REJECTED||e.status===k.li.DELETED)&&(0,s.jsxs)("button",{onClick:()=>l(f.RESTORE),disabled:t,className:o("success"),children:[(0,s.jsx)(x.A,{className:"w-4 h-4"}),"Restore"]}),t&&(0,s.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 text-gray-600 dark:text-gray-400",children:[(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),"Processing..."]})]})]})]}),(0,s.jsx)(b.A,{isOpen:i.open,onClose:()=>n({open:!1}),onConfirm:()=>{if(i.action){a(i.action),n({open:!1});let e=v[i.action]?.title;e&&g.oR.success(e.replace("Company","Company")+" successfully")}},title:i.title||"",message:i.message||""})]})},A=({children:e,data:a})=>{let[t,i]=(0,r.useState)(!1),n=async e=>{i(!0);try{console.log(`Company action: ${e}`)}catch(e){console.error("Error performing company action:",e)}finally{i(!1)}};return(0,s.jsxs)("div",{className:"p-6 flex flex-col lg:flex-row gap-6",children:[(0,s.jsx)("div",{className:"w-full lg:w-1/3",children:(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsx)(j,{company:a,onAction:n,isLoading:t})})}),(0,s.jsxs)("div",{className:"w-full flex flex-col gap-4",children:[(0,s.jsx)(l,{companyId:a?._id||""}),e]})]})}}};