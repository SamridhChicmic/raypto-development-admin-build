(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8929],{23808:(e,t,a)=>{"use strict";a.d(t,{default:()=>f});var s=a(95155),o=a(62177),r=a(66766),i=a(12115),n=a(84662),l=a(39506),d=a(69542),c=a(34477);let u=(0,c.createServerReference)("4026f11a296fa341f73a33b801960db8abccd42580",c.callServer,void 0,c.findSourceMapURL,"uploadBadgeImage"),S=(0,c.createServerReference)("40610e27723b24c5f5f9cbf7506af82c3936433dd9",c.callServer,void 0,c.findSourceMapURL,"updateBadgeAction"),m=(0,c.createServerReference)("4084609e2aa2f4901feb770b1a28429d2d9dcb9c7e",c.callServer,void 0,c.findSourceMapURL,"addBadgeAction");var p=a(38543),g=a(35695),b=a(40619),I=a(92502);let x={eventsJoined:0,eventsAttended:0,pointsEarned:0,postsCreated:0,usersReferred:0,learningModulesCompleted:0,completedGoals:0,connectionScore:0,engagementScore:0,growthScore:0,impactScore:0,businessGrowthScore:0},f=e=>{var t;let{isEdit:a=!1,badgeId:c,defaultValues:f}=e;console.log("defaultvalue",f);let E=(0,o.mN)({defaultValues:{name:(null==f?void 0:f.name)||"",type:null!=(t=null==f?void 0:f.type)?t:n.s.CONDITIONAL}}),{handleSubmit:v,watch:h}=E,N=h("name"),_=h("type"),[A,O]=(0,i.useState)(null),[C,F]=(0,i.useState)(""),[w,R]=(0,i.useState)(x);(0,i.useEffect)(()=>{(null==f?void 0:f.imageURL)&&F(f.imageURL),(null==f?void 0:f.conditions)&&R(f.conditions)},[f]);let T=(e,t)=>{R(a=>({...a,[e]:t}))},B=async e=>{let t=(null==f?void 0:f.imageURL)||"";if(A){let e=new FormData;e.append("file",A);let a=await u(e);if(!a.status)return void p.oR.error(a.message);t=a.data.filePath}let s={...e,imageURL:t};e.type===n.s.CONDITIONAL&&(s.conditions=w),a&&(s.badgeId=c),console.log(s);let o=a?await S(s):await m(s);o.status?(p.oR.success(o.message),(0,g.redirect)(b.bw.BADGES_LIST)):p.oR.error(o.message)},y=!!N.trim()&&(!!A||!!C);return(0,s.jsxs)("div",{className:"max-w-3xl mx-auto p-6 bg-white shadow-md rounded-lg space-y-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:a?"Edit Badge":"Add New Badge"}),(0,s.jsx)(o.Op,{...E,children:(0,s.jsxs)("form",{onSubmit:v(B),className:"space-y-6",children:[(0,s.jsx)(l.F,{name:"name",label:"Badge Name",type:"text",validation:{required:"Badge name is required"}}),(0,s.jsx)(d.z,{name:"type",label:"Badge Type",options:Object.entries(n.u).map(e=>{let[t,a]=e;return{label:a,value:Number.parseInt(t)}})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"badge-image",className:"block text-sm font-medium text-gray-700 mb-1",children:"Badge Image"}),C?(0,s.jsxs)("div",{className:"relative w-24 h-24 border rounded mt-2",children:[(0,s.jsx)(r.default,{src:a?I.C1+"/"+C:C,alt:"Preview",fill:!0,className:"object-cover"}),(0,s.jsx)("button",{type:"button",onClick:()=>{O(null),F("")},className:"absolute -top-2 -right-2 bg-white text-gray-700 border rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-500 hover:text-white transition text-sm shadow",title:"Remove image",children:"\xd7"})]}):(0,s.jsx)("input",{id:"badge-image",type:"file",accept:"image/*",onChange:e=>{var t;let a=null==(t=e.target.files)?void 0:t[0];a&&(O(a),F(URL.createObjectURL(a)))}})]}),_===n.s.CONDITIONAL&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-medium text-gray-800 mb-2",children:"Conditions"}),(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 max-h-64 overflow-y-auto pr-1",children:Object.entries(w).map(e=>{let[t,a]=e;return(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:t,className:"block text-sm text-gray-600 capitalize",children:t.replace(/([A-Z])/g," $1")}),(0,s.jsx)("input",{id:t,type:"number",min:0,value:a||0,onChange:e=>T(t,Number(e.target.value)),className:"w-full border rounded-md px-3 py-1 mt-1 focus:outline-none focus:ring focus:border-blue-300"})]},t)})})]}),(0,s.jsx)("div",{className:"text-right",children:(0,s.jsx)("button",{type:"submit",disabled:!y,className:"px-5 py-2 rounded transition text-white ".concat(y?"bg-blue-600 hover:bg-blue-700":"bg-gray-300 cursor-not-allowed"),children:a?"Update Badge":"Create Badge"})})]})})]})}},35695:(e,t,a)=>{"use strict";var s=a(18999);a.o(s,"redirect")&&a.d(t,{redirect:function(){return s.redirect}}),a.o(s,"useParams")&&a.d(t,{useParams:function(){return s.useParams}}),a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},39506:(e,t,a)=>{"use strict";a.d(t,{F:()=>r});var s=a(95155),o=a(62177);function r(e){var t;let{name:a,label:r,type:i,placeholder:n,validation:l,className:d="",width:c="w-full",interceptor:u=e=>e}=e,{setValue:S,register:m,formState:{errors:p}}=(0,o.xW)(),g=p[a];return(0,s.jsxs)("div",{className:"mb-4 ".concat(c," ").concat(d),children:[(0,s.jsx)("label",{htmlFor:a,className:"block mb-1 font-medium dark:text-white",children:r}),(0,s.jsx)("input",{id:a,type:i,placeholder:n,...m(a,l),onChange:e=>{S(a,u(e.target.value),{shouldDirty:!0})},className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-violet-500 text-black dark:bg-gray-900 dark:border-gray-800 dark:text-white"}),g&&(0,s.jsx)("span",{className:"text-red-500 text-[0.875] mt-1",children:null==(t=g.message)?void 0:t.toString()})]})}},40619:(e,t,a)=>{"use strict";a.d(t,{bw:()=>s});let s={LOGIN:"/login",REGISTER:"/register",FORGOT_PASSWORD:"/forgot-password",DASHBOARD:"/dashboard",USERS:"/users",USERS_LIST:"/users/list",USERS_VIEW:"/users/view",DASHBOARD_CRM:"/dashboard/crm",INVOICES_LIST:"/invoices/list",INVOICES_PREVIEW:"/invoices/preview",INVOICES_ADD:"/invoices/add",INVOICES_EDIT:"/invoices/edit",DASHBOARD_ANALYTICS:"/dashboard/analytics",USERS_VIEW_ACCOUNT:"/users/view/account",USERS_VIEW_SECURITY:"/users/view/security",USERS_VIEW_BILLING:"/users/view/billing",USERS_VIEW_NOTIFICATIONS:"/users/view/notifications",USERS_VIEW_CONNECTIONS:"/users/view/connections",TRANSACTIONS_LIST:"/transactions/list",SUBSCRIPTIONS_LIST:"/subscriptions/list",SUBSCRIPTIONS_VIEW:"/subscriptions/view",BADGES:"/badges",BADGES_LIST:"/badges/list",BADGES_ADD:"/badges/add",BADGES_EDIT:"/badges/edit",COMPANIES:"/companies",COMPANIES_LIST:"/companies/list",COMPANIES_VIEW:"/companies/view",COMPANIES_VIEW_JOBS:"/companies/view/jobs",COMPANIES_VIEW_EVENTS:"/companies/view/events",COMPANIES_VIEW_BUSINESS:"/companies/view/businessleads",COMPANIES_VIEW_HIRING:"/companies/view/hiring",COMPANIES_VIEW_ENGAGEMENT:"/companies/view/engagement",COMPANIES_VIEW_SPONSORSHIP:"/companies/view/sponsorship",COMPANIES_VIEW_BOOST:"/companies/view/boost",COMPANIES_VIEW_GROWTH:"/companies/view/companygrowth",PROMO_CODES_LIST:"/promo-codes/list",EVENTS_LIST:"/events/list",GROUPS_LIST:"/groups/list",GAME_CONFIGS:"/game-configs",GAME_CONFIGS_LIST:"/game-configs/list",GAME_CONFIGS_VIEW:"/game-configs/view",BETS_HISTORY:"/bets-history",BETS_HISTORY_LIST:"/bets-history/list",CONFIGS:"/configs",CONFIGS_LIST:"/configs/list",CHAT:"/chat",CHAT_ROOMS_LIST:"/chat/rooms/list",CHAT_MESSAGES:"/chat/messages",CHAT_LIVE:"/chat/live",BONUS_SLIDES:"/bonus-slides",BONUS_SLIDES_LIST:"/bonus-slides/list",BONUS_SLIDES_ADD:"/bonus-slides/add",BONUS_SLIDES_EDIT:"/bonus-slides/edit"}},48929:(e,t,a)=>{Promise.resolve().then(a.bind(a,23808))},56164:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var s=a(95155),o=a(12115),r=a(51362),i=a(35555),n=a(92502);let l=e=>{let{resolvedTheme:t}=(0,r.D)(),[a,l]=(0,o.useState)(!1);(0,o.useEffect)(()=>{l(!0)},[]);let d=a&&t===n.B7.DARK;return(0,s.jsx)(i.Ay,{...e,menuPortalTarget:a?document.body:void 0,menuPosition:"fixed",styles:{control:e=>({...e,minHeight:"36px",border:"none",borderRadius:"10px",backgroundColor:d?"#1F2937":"#FFFFFF",boxShadow:"none",cursor:"pointer"}),valueContainer:e=>({...e,padding:"2px 8px"}),placeholder:e=>({...e,color:d?"#6B7280":"#9CA3AF",fontSize:"14px",fontWeight:500}),singleValue:e=>({...e,color:d?"#F9FAFB":"#1F2937",fontSize:"14px",fontWeight:500}),input:e=>({...e,color:d?"#F9FAFB":"#1F2937",fontSize:"14px"}),indicatorSeparator:()=>({display:"none"}),dropdownIndicator:(e,t)=>({...e,color:d?"#9CA3AF":"#6B7280",padding:"6px 8px",transform:t.selectProps.menuIsOpen?"rotate(180deg)":"rotate(0)"}),clearIndicator:e=>({...e,color:d?"#9CA3AF":"#6B7280",padding:"8px","&:hover":{color:"#EF4444"}}),menu:e=>({...e,backgroundColor:d?"#1F2937":"#FFFFFF",border:"1px solid ".concat(d?"#374151":"#E5E7EB"),borderRadius:"12px",boxShadow:d?"0 10px 40px rgba(0, 0, 0, 0.5)":"0 10px 40px rgba(0, 0, 0, 0.1)",overflow:"hidden",marginTop:"4px"}),menuPortal:e=>({...e,zIndex:9999}),menuList:e=>({...e,padding:"6px",maxHeight:"250px",scrollbarWidth:"none",msOverflowStyle:"none","&::-webkit-scrollbar":{display:"none"}}),option:(e,t)=>({...e,backgroundColor:t.isSelected?"#4F46E5":t.isFocused?d?"#374151":"#F3F4F6":"transparent",color:t.isSelected?"#FFFFFF":d?"#F9FAFB":"#1F2937",fontSize:"14px",fontWeight:t.isSelected?600:500,padding:"10px 12px",borderRadius:"8px",cursor:"pointer","&:active":{backgroundColor:t.isSelected?"#4338CA":d?"#4B5563":"#E5E7EB"}}),multiValue:e=>({...e,backgroundColor:d?"#374151":"#EEF2FF",borderRadius:"6px",padding:"2px 4px"}),multiValueLabel:e=>({...e,color:d?"#F9FAFB":"#4F46E5",fontSize:"13px",fontWeight:500}),multiValueRemove:e=>({...e,color:d?"#9CA3AF":"#6366F1",borderRadius:"4px","&:hover":{backgroundColor:d?"#4B5563":"#C7D2FE",color:d?"#F9FAFB":"#4F46E5"}}),noOptionsMessage:e=>({...e,color:d?"#6B7280":"#9CA3AF",fontSize:"14px",padding:"12px"}),loadingMessage:e=>({...e,color:d?"#6B7280":"#9CA3AF",fontSize:"14px"}),...e.styles||{}}})}},66766:(e,t,a)=>{"use strict";a.d(t,{default:()=>o.a});var s=a(71469),o=a.n(s)},69542:(e,t,a)=>{"use strict";a.d(t,{z:()=>i});var s=a(95155),o=a(62177),r=a(56164);function i(e){var t;let{name:a,label:i,options:n,placeholder:l,validation:d,className:c="",width:u="w-full"}=e,{control:S,formState:{errors:m}}=(0,o.xW)(),p=m[a];return(0,s.jsxs)("div",{className:"mb-4 ".concat(u," ").concat(c),children:[(0,s.jsx)("label",{htmlFor:a,className:"block mb-1 font-medium dark:text-white",children:i}),(0,s.jsx)(o.xI,{name:a,control:S,rules:d,render:e=>{let{field:t}=e;return(0,s.jsx)(r.A,{value:n.find(e=>e.value==t.value),onChange:e=>t.onChange(null==e?void 0:e.value),placeholder:l,options:n})}}),p&&(0,s.jsx)("span",{className:"text-red-500 text-[0.875] mt-1",children:null==(t=p.message)?void 0:t.toString()})]})}},71469:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{default:function(){return l},getImageProps:function(){return n}});let s=a(88229),o=a(38883),r=a(33063),i=s._(a(51193));function n(e){let{props:t}=(0,o.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,a]of Object.entries(t))void 0===a&&delete t[e];return{props:t}}let l=r.Image},84662:(e,t,a)=>{"use strict";a.d(t,{s:()=>s,u:()=>o});let s={CONDITIONAL:1,EXPERT:2},o={[s.CONDITIONAL]:"Conditional",[s.EXPERT]:"Expert"}}}]);