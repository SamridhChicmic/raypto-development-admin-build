(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7294],{20011:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var s=a(95155),r=a(58607);let n=e=>{let{isOpen:t,onClose:a,onConfirm:n,title:i,message:l,isLoading:o=!1}=e;return(0,s.jsx)(r.A,{isOpen:t,onClose:a,title:i,size:"md",children:(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("p",{className:"text-gray-700 mb-4 dark:text-white",children:l}),(0,s.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,s.jsx)("button",{onClick:a,className:"disabled:opacity-50 px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 dark:bg-gray-800 dark:text-white",disabled:o,children:"Cancel"}),(0,s.jsx)("button",{onClick:n,className:"disabled:opacity-50 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 dark:bg-red-600 dark:text-white",disabled:o,children:"Confirm"})]})]})})}},23359:(e,t,a)=>{"use strict";a.d(t,{default:()=>E});var s=a(95155),r=a(12115),n=a(35695);let i={TABS:[{name:"Profile",path:"profile",icon:"\uD83C\uDFE2",description:"Company profile and information"},{name:"Jobs",path:"jobs",icon:"\uD83D\uDCBC",description:"Job listings and opportunities"},{name:"Applications",path:"applications",icon:"\uD83D\uDCDD",description:"Job applications and candidates"},{name:"Events",path:"events",icon:"\uD83D\uDCC5",description:"Company events and activities"}]},l=e=>{let{companyId:t}=e,a=(0,n.useRouter)(),r=(0,n.usePathname)(),l=i.TABS.map(e=>({name:e.name,path:"/companies/view/".concat(t,"/").concat(e.path),icon:e.icon,description:e.description})),o=e=>e.includes("/profile")?r.includes("/profile")||r==="/companies/view/".concat(t):r.includes(e);return(0,s.jsx)("div",{className:"flex gap-4 border-b overflow-x-auto",children:l.map(e=>(0,s.jsxs)("button",{onClick:()=>a.push(e.path),className:"px-4 py-2 text-sm font-medium border-b-2 cursor-pointer flex items-center space-x-2 ".concat(o(e.path)?"text-primary border-primary":"text-gray-500 border-transparent hover:text-primary"),title:e.description,children:[(0,s.jsx)("span",{className:"text-base",children:e.icon}),(0,s.jsx)("span",{className:"dark:text-gray-300",children:e.name})]},e.name))})};var o=a(19946);let c=(0,o.A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),d=(0,o.A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),m=(0,o.A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),u=(0,o.A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);var h=a(97210),p=a(62525);let y=(0,o.A)("ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);var x=a(40133),g=a(38543),f=a(20011);let b={VERIFY:"verify",APPROVE:"approve",REJECT:"reject",FEATURE:"feature",FLAG:"flag",SPAM:"spam",DELETE:"delete",BAN:"ban",RESTORE:"restore"};b.VERIFY,b.APPROVE,b.REJECT,b.FEATURE,b.FLAG,b.SPAM,b.DELETE,b.BAN,b.RESTORE;let v={[b.VERIFY]:{title:"Verify Company",message:"Are you sure you want to verify this company? This will mark the company as verified and increase their trust score.",variant:"success"},[b.APPROVE]:{title:"Approve Company",message:"Are you sure you want to approve this company? This will make it visible to the public.",variant:"success"},[b.REJECT]:{title:"Reject Company",message:"Are you sure you want to reject this company? This will hide it from the public.",variant:"danger"},[b.FEATURE]:{title:"Feature Company",message:"Are you sure you want to feature this company? This will promote it on the homepage.",variant:"primary"},[b.FLAG]:{title:"Flag Company",message:"Are you sure you want to flag this company for review? This will mark it for admin attention.",variant:"warning"},[b.SPAM]:{title:"Mark as Spam",message:"Are you sure you want to mark this company as spam? This will affect the company's trust score.",variant:"warning"},[b.DELETE]:{title:"Delete Company",message:"Are you sure you want to permanently delete this company? This action cannot be undone.",variant:"danger"},[b.BAN]:{title:"Ban Company",message:"Are you sure you want to ban this company? This will prevent them from accessing the platform.",variant:"danger"},[b.RESTORE]:{title:"Restore Company",message:"Are you sure you want to restore this company? This will make it visible again.",variant:"success"}};var w=a(75010),k=a(92502);let j=e=>{let{company:t,onAction:a,isLoading:n}=e,[i,l]=(0,r.useState)({open:!1}),o=e=>{let s=v[e];s?l({open:!0,action:e,title:s.title,message:s.message.replace("this company",'"'.concat(t.companyName,'"'))}):a(e)},j=e=>{let t="flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed";switch(e){case"primary":return"".concat(t," bg-blue-600 text-white hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-700");case"danger":return"".concat(t," bg-red-600 text-white hover:bg-red-700 dark:bg-red-600 dark:hover:bg-red-700");case"warning":return"".concat(t," bg-yellow-600 text-white hover:bg-yellow-700 dark:bg-yellow-600 dark:hover:bg-yellow-700");case"success":return"".concat(t," bg-green-600 text-white hover:bg-green-700 dark:bg-green-600 dark:hover:bg-green-700");default:return"".concat(t," bg-gray-600 text-white hover:bg-gray-700 dark:bg-gray-600 dark:hover:bg-gray-700")}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Admin Actions"})}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-6 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Company Status:"}),(0,s.jsx)("span",{className:"ml-2 font-medium ".concat((0,w.qY)(t.status)),children:t.status?k.j$[t.status]:"Active"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Verification:"}),(0,s.jsx)("span",{className:"ml-2 font-medium text-green-600 dark:text-green-400",children:t.isVerified?"Verified":"Not Verified"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Flags:"}),(0,s.jsx)("span",{className:"ml-2 font-medium text-red-600 dark:text-red-400",children:t.flagsCount||0})]})]}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[!t.isVerified&&(0,s.jsxs)("button",{onClick:()=>o(b.VERIFY),disabled:n,className:j("success"),children:[(0,s.jsx)(c,{className:"w-4 h-4"}),"Verify"]}),(t.status===k.li.PENDING||t.status===k.li.FLAGGED)&&(0,s.jsxs)("button",{onClick:()=>o(b.APPROVE),disabled:n,className:j("success"),children:[(0,s.jsx)(d,{className:"w-4 h-4"}),"Approve"]}),(t.status===k.li.PENDING||t.status===k.li.FLAGGED)&&(0,s.jsxs)("button",{onClick:()=>o(b.REJECT),disabled:n,className:j("danger"),type:"button",children:[(0,s.jsx)(m,{className:"w-4 h-4"}),"Reject"]}),t.status===k.li.APPROVED&&(0,s.jsxs)("button",{onClick:()=>o(b.FEATURE),disabled:n,className:j("primary"),children:[(0,s.jsx)(u,{className:"w-4 h-4"}),"Feature"]}),(0,s.jsxs)("button",{onClick:()=>o(b.FLAG),disabled:n,className:j("warning"),children:[(0,s.jsx)(h.A,{className:"w-4 h-4"}),"Flag"]}),(0,s.jsxs)("button",{onClick:()=>o(b.SPAM),disabled:n,className:j("warning"),children:[(0,s.jsx)(h.A,{className:"w-4 h-4"}),"Mark as Spam"]}),(0,s.jsxs)("button",{onClick:()=>o(b.DELETE),disabled:n,className:j("danger"),children:[(0,s.jsx)(p.A,{className:"w-4 h-4"}),"Delete"]}),(0,s.jsxs)("button",{onClick:()=>o(b.BAN),disabled:n,className:j("danger"),children:[(0,s.jsx)(y,{className:"w-4 h-4"}),"Ban"]}),(t.status===k.li.REJECTED||t.status===k.li.DELETED)&&(0,s.jsxs)("button",{onClick:()=>o(b.RESTORE),disabled:n,className:j("success"),children:[(0,s.jsx)(x.A,{className:"w-4 h-4"}),"Restore"]}),n&&(0,s.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 text-gray-600 dark:text-gray-400",children:[(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),"Processing..."]})]})]})]}),(0,s.jsx)(f.A,{isOpen:i.open,onClose:()=>l({open:!1}),onConfirm:()=>{if(i.action){var e;a(i.action),l({open:!1});let t=null==(e=v[i.action])?void 0:e.title;t&&g.oR.success(t.replace("Company","Company")+" successfully")}},title:i.title||"",message:i.message||""})]})},E=e=>{let{children:t,data:a}=e,[n,i]=(0,r.useState)(!1),o=async e=>{i(!0);try{console.log("Company action: ".concat(e))}catch(e){console.error("Error performing company action:",e)}finally{i(!1)}};return(0,s.jsxs)("div",{className:"p-6 flex flex-col lg:flex-row gap-6",children:[(0,s.jsx)("div",{className:"w-full lg:w-1/3",children:(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsx)(j,{company:a,onAction:o,isLoading:n})})}),(0,s.jsxs)("div",{className:"w-full flex flex-col gap-4",children:[(0,s.jsx)(l,{companyId:(null==a?void 0:a._id)||""}),t]})]})}},27203:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var s=a(95155),r=a(12115);function n(e){var t;let a=(0,r.useRef)(null);return t=e.onClick,(0,r.useEffect)(()=>{function e(e){a.current&&!a.current.contains(e.target)&&(e.stopPropagation(),t())}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[t,a]),(0,s.jsx)("div",{className:e.className,ref:a,children:e.children})}},40133:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},58607:(e,t,a)=>{"use strict";a.d(t,{A:()=>s.A});var s=a(59927)},59927:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var s=a(95155),r=a(52596),n=a(12115),i=a(27203);let l={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl"},o=e=>{let{isOpen:t,onClose:a,title:o,children:c,className:d="",size:m="lg"}=e;return((0,n.useEffect)(()=>{let e=e=>{"Escape"===e.key&&a()};return t&&document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[t,a]),t)?(0,s.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-white/10 backdrop-blur-sm dark:bg-gray-900/50",children:(0,s.jsx)(i.A,{onClick:a,className:(0,r.A)("w-full",l[m],d),children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 relative dark:bg-gray-900 dark:border-gray-800 ".concat(d),role:"dialog","aria-modal":"true",children:[(0,s.jsx)("button",{onClick:a,className:"absolute top-3 right-3 text-gray-400 hover:text-gray-600 text-lg dark:text-white","aria-label":"Close",children:"✕"}),o&&(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4 dark:text-white",children:o}),c]})})}):null}},62525:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},70567:(e,t,a)=>{Promise.resolve().then(a.bind(a,23359))},75010:(e,t,a)=>{"use strict";a.d(t,{B8:()=>p,JK:()=>f,Jr:()=>k,M$:()=>c,Uk:()=>v,Vt:()=>y,Yq:()=>x,cn:()=>m,cu:()=>g,jd:()=>h,qY:()=>b,sg:()=>u,vv:()=>w,x4:()=>d});var s=a(52596),r=a(16694),n=a(78192),i=a.n(n),l=a(39688),o=a(92502);async function c(e){try{let t=await fetch("/api/session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})});if(!t.ok){let e=await t.json();return console.error("Failed to create session:",e),!1}return!0}catch(e){return console.error("❌ Error in createSessionClient:",e),!1}}async function d(){try{let e=await fetch("/api/session",{method:"DELETE"});if(!e.ok){let t=await e.json();return console.error("Failed to delete session:",t),!1}return!0}catch(e){return console.error("❌ Error in deleteSessionClient:",e),!1}}function m(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,l.QP)((0,s.A)(t))}function u(e,t){let a;return function(){for(var s=arguments.length,r=Array(s),n=0;n<s;n++)r[n]=arguments[n];clearTimeout(a),a=setTimeout(()=>{e(...r)},t)}}let h=e=>e.replace(/\D/g,"").replace(/(.{4})/g,"$1 ").trim(),p=e=>{let t=e.replace(/\D/g,"").slice(0,4);return t.length<=2?t:"".concat(t.slice(0,2),"/").concat(t.slice(2))},y=(e,t)=>{let a=e.replace(/\D/g,""),s=i().fns.cardType(t);return a.slice(0,"amex"===s?4:3)},x=e=>e?(0,r.GP)(e,"MMM d, yyyy h:mm a"):"";async function g(e){try{let t=await fetch("/api/locale",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({locale:e})});if(!t.ok){let e=await t.json();return console.error("Failed to update locale:",e),!1}return!0}catch(e){return console.error("❌ Error in updateLocale:",e),!1}}async function f(){try{let e=await fetch("/api/locale",{method:"GET"});if(!e.ok){let t=await e.json();return console.error("Failed to get locale:",t),null}let t=await e.json();return console.log(t,"res in getLocale"),t.locale||"en"}catch(e){return console.error("❌ Error in getLocale:",e),null}}let b=e=>o.WN[e]||"bg-gray-100 text-gray-800",v=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;return e?e.length<=t+a?e:"".concat(e.slice(0,t),"...").concat(e.slice(-a)):""},w=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===e)return"0";let s=Math.abs(e),r="";for(let{threshold:e,suffix:a}of[{threshold:1e12,suffix:"T"},{threshold:1e9,suffix:"B"},{threshold:1e6,suffix:"M"},{threshold:1e3,suffix:"K"}])if(s>=e){r=(s/e).toFixed(t).replace(/\.?0+$/,"")+a;break}return(r||(r=s.toFixed(t).replace(/\.?0+$/,"")),e<0)?"-".concat(r):a&&e>0?"+".concat(r):r},k=(e,t,a,s)=>({field:e,title:t,render:a,sortable:!0,sortKey:s||e})},97210:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[8543,8291,9299,2502,8441,1684,7358],()=>t(70567)),_N_E=e.O()}]);