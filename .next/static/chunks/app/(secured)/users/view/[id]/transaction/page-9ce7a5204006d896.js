(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6401],{86:(e,t,a)=>{"use strict";a.d(t,{default:()=>F});var r=a(95155),l=a(35695),s=a(12115),o=a(3920),i=a(55688),n=a(74783),d=a(40133),c=a(92502),m=a(75010),u=a(24598),x=a(54),p=a(1267);let f="bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",g="bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",h=e=>Object.entries(e).map(e=>{let[t,a]=e;return{label:a,value:Number(t)}}),y=h(c.sp),b=h(c.V3),j=h(c.jP),v=h(c.Zd),k=h(c.Iq),w=(e,t)=>(0,r.jsx)("span",{className:"".concat("px-2 py-1 rounded-full text-[0.875] font-medium"," ").concat(t),children:e}),S=e=>{switch(e){case c.HB.WIN:return{label:"Win",colorClass:f};case c.HB.LOSS:return{label:"Loss",colorClass:g};default:return{label:"-",colorClass:""}}},N=e=>({1:"bg-yellow-100 text-yellow-800",2:f,3:g})[e]||"bg-gray-100 text-gray-800",F=e=>{let{data:t,count:a,initialFromDate:f,initialToDate:g,initialSortKey:h="",initialSortDirection:F=1}=e,D=(0,l.useRouter)(),[A,E]=(0,s.useState)(!1),C=()=>{E(!1)},T=()=>{E(!1)},P=[{field:"_id",title:"Transaction ID",render:e=>(null==e?void 0:e._id)?"#".concat(e._id.slice(-8)):""},(0,m.Jr)("currency","Currency",e=>c.sp[e.currency]||"Unknown"),(0,m.Jr)("withdrawableBalance","Amount",e=>{let t=e.withdrawableBalance,a=t>=0;return(0,r.jsxs)("span",{className:a?"text-green-600":"text-red-600",children:[a?"+":"",t.toFixed(2)]})}),(0,m.Jr)("gameMultiplier","Multiplier",e=>(0,r.jsx)("span",{className:"font-medium ".concat((e.gameMultiplier||0)>0?"text-green-600":"text-gray-500"),children:(e.gameMultiplier||0)>0?"".concat(e.gameMultiplier.toFixed(2),"x"):"-"})),(0,m.Jr)("type","Type",e=>w(c.jP[e.type]||"Unknown","")),{field:"gameResult",title:"Result",render:e=>{let{label:t,colorClass:a}=S(e.gameResult);return a?w(t,a):(0,r.jsx)("span",{children:t})}},(0,m.Jr)("gameType","Game",e=>c.Zd[e.gameType]?w(c.Zd[e.gameType],"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400"):(0,r.jsx)("span",{children:"-"})),(0,m.Jr)("status","Status",e=>w(c.V3[e.status]||"Unknown",N(e.status))),(0,m.Jr)("createdAt","Date",e=>e.createdAt?new Date(e.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"")],R=(0,s.useMemo)(()=>({columns:P,keyExtractor:e=>e._id,paginationTitle:"transactions",hideSelectCol:!0,emptyMessage:"No transactions found",queryConfig:{defaultSortKey:h,defaultSortDirection:F,skipFirstRender:!0},header:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800",children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6 justify-between items-center",children:[(0,r.jsx)("h3",{className:"text-[1.5rem] font-bold ".concat(p.YH),children:"Transaction Statistics"}),(0,r.jsx)("div",{className:"flex items-center gap-4",children:(0,r.jsxs)("button",{onClick:()=>E(!0),className:"flex items-center space-x-2 px-4 py-2 bg-[#4F46E5] text-white rounded-[8px] hover:bg-[#3311DD] transition-all duration-200 focus:outline-none focus:ring-0 font-medium",children:[(0,r.jsx)(n.A,{size:18}),(0,r.jsx)("span",{children:"Filters"})]})})]})}),(0,r.jsx)(i.A,{isOpen:A,onClose:()=>E(!1),title:"Transaction Filters",footer:(0,r.jsxs)("button",{onClick:()=>{D.replace(window.location.pathname),T()},className:"w-full flex items-center justify-center space-x-2 px-4 py-2.5 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-700 transition-all border border-gray-200 dark:border-gray-700 font-medium",children:[(0,r.jsx)(d.A,{size:18}),(0,r.jsx)("span",{children:"Clear All Filters"})]}),children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"date-range-filter",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date Range"}),(0,r.jsx)(u.A,{id:"date-range-filter",initialFromDate:f,initialToDate:g,onApply:C,onClear:T})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"currency-filter",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Currency"}),(0,r.jsx)(o.A,{id:"currency-filter",paramName:"currency",options:y,placeholder:"Filter by Currency"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"status-filter",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),(0,r.jsx)(o.A,{id:"status-filter",paramName:"status",options:b,placeholder:"Filter by Status"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"type-filter",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Type"}),(0,r.jsx)(o.A,{id:"type-filter",paramName:"type",options:j,placeholder:"Filter by Type"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"game-type-filter",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Game"}),(0,r.jsx)(o.A,{id:"game-type-filter",paramName:"gameType",options:v,placeholder:"Filter by Game"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"result-filter",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Result"}),(0,r.jsx)(o.A,{id:"result-filter",paramName:"gameResult",options:k,placeholder:"Filter by Result"})]})]})})]})}),[P,h,F,A,f,g,D]);return(0,r.jsx)(x.b,{data:t,totalCount:a,config:R})}},3920:(e,t,a)=>{"use strict";a.d(t,{A:()=>r.default});var r=a(55876)},24598:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(95155),l=a(12115),s=a(35695);let o=e=>{let{initialFromDate:t="",initialToDate:a="",onApply:o,onClear:i,useUrlParams:n=!0,className:d="",id:c}=e,m=(0,s.useRouter)(),u=(0,s.useSearchParams)(),[x,p]=(0,l.useState)(t),[f,g]=(0,l.useState)(a);(0,l.useEffect)(()=>{p(t),g(a)},[t,a]);let h=new Date().toISOString().split("T")[0],y=e=>{if(p(e),e){let t=new Date(e),a=new Date(t);a.setDate(t.getDate()+30);let r=new Date;g((a>r?r:a).toISOString().split("T")[0])}else g("")},b=x||f;return(0,r.jsxs)("div",{className:"flex flex-col gap-3 ".concat(d),children:[(0,r.jsxs)("div",{className:"flex flex-row items-end gap-3",children:[(0,r.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,r.jsx)("label",{htmlFor:c?"".concat(c,"-from"):void 0,className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"From Date"}),(0,r.jsx)("input",{type:"date",id:c?"".concat(c,"-from"):void 0,value:x,onChange:e=>y(e.target.value),max:h,className:"w-full px-3 py-2.5 border-2 border-[#4F46E540] rounded-lg focus:ring-2 focus:ring-[#4F46E5] focus:border-[#4F46E5] hover:border-[#4F46E5] transition-all duration-200 dark:bg-gray-800 dark:border-[#4F46E540] dark:text-white font-medium cursor-pointer"})]}),(0,r.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,r.jsx)("label",{htmlFor:c?"".concat(c,"-to"):void 0,className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"To Date"}),(0,r.jsx)("input",{type:"date",id:c?"".concat(c,"-to"):void 0,value:f,onChange:e=>g(e.target.value),disabled:!x,min:x,max:(()=>{if(!x)return h;let e=new Date(x);e.setDate(e.getDate()+30);let t=e.toISOString().split("T")[0];return t<h?t:h})(),className:"w-full px-3 py-2.5 border-2 rounded-lg focus:ring-2 focus:ring-[#4F46E5] dark:bg-gray-800 dark:text-white font-medium transition-all duration-200 ".concat(x?"border-[#4F46E540] focus:border-[#4F46E5] hover:border-[#4F46E5] cursor-pointer":"opacity-50 cursor-not-allowed bg-gray-100 dark:bg-gray-900 border-gray-300 dark:border-gray-700")})]})]}),(0,r.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,r.jsx)("button",{onClick:()=>{if(n){let e=new URLSearchParams(u.toString());e.delete("skip"),x?e.set("fromDate",x):e.delete("fromDate"),f?e.set("toDate",f):e.delete("toDate"),m.replace("?".concat(e.toString()),{scroll:!1})}null==o||o(x,f)},disabled:!x,className:"flex-1 px-4 py-2 bg-[#4F46E5] text-white font-semibold rounded-lg hover:bg-[#3311DD] transition-all duration-200 ".concat(x?"":"opacity-50 cursor-not-allowed"),children:"Apply"}),b&&(0,r.jsx)("button",{onClick:()=>{if(p(""),g(""),n){let e=new URLSearchParams(u.toString());e.delete("fromDate"),e.delete("toDate"),e.delete("skip"),m.replace("?".concat(e.toString()),{scroll:!1})}null==i||i()},className:"flex-1 px-4 py-2 border-2 border-[#4F46E5] text-[#4F46E5] font-semibold rounded-lg hover:bg-[#4F46E5] hover:text-white transition-all duration-200 dark:border-[#4F46E5] dark:text-[#4F46E5]",children:"Clear"})]})]})}},34219:(e,t,a)=>{Promise.resolve().then(a.bind(a,61843)),Promise.resolve().then(a.bind(a,39533)),Promise.resolve().then(a.bind(a,86))},39533:(e,t,a)=>{"use strict";a.d(t,{default:()=>c});var r=a(95155),l=a(55028),s=a(35695),o=a(92502),i=a(75010),n=a(21761);let d=(0,l.default)(()=>Promise.all([a.e(7776),a.e(8699)]).then(a.bind(a,78699)),{loadableGenerated:{webpack:()=>[78699]},ssr:!1}),c=e=>{let{stats:t,initialFromDate:a,initialToDate:l}=e,c=(0,s.useRouter)(),m=(0,s.usePathname)(),u=(0,s.useSearchParams)(),x=[...t].sort((e,t)=>e.currency-t.currency),p=x.map(e=>o.sp[e.currency]||"Currency ".concat(e.currency)),f=x.map(e=>Math.round(100*e.moneyEarned)/100),g=x.map(e=>Math.abs(Math.round(100*e.moneySpent)/100)),h={chart:{type:"bar",height:350,toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",borderRadius:4}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:p,labels:{style:{colors:"#a3aed0",fontFamily:"inherit"}}},yaxis:{labels:{style:{colors:"#a3aed0",fontFamily:"inherit"},formatter:e=>(0,i.vv)(e)}},fill:{type:"gradient",gradient:{shade:"light",type:"vertical",shadeIntensity:1,opacityFrom:.8,opacityTo:.3,colorStops:[[{offset:0,color:"#10B981",opacity:1},{offset:100,color:"#ffffff",opacity:0}],[{offset:0,color:"#EF4444",opacity:1},{offset:100,color:"#ffffff",opacity:0}]]}},colors:["#10B981","#EF4444"],legend:{position:"top",horizontalAlign:"right",labels:{colors:"#a3aed0"},show:!0},tooltip:{marker:{show:!0},y:{formatter:e=>(0,i.vv)(e)}},grid:{borderColor:"transparent",strokeDashArray:4}};return(0,r.jsxs)("div",{className:"flex-1 bg-white rounded-[20px]  p-6 dark:bg-gray-900 dark:border-gray-800",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("div",{className:"flex items-center justify-start w-full",children:(0,r.jsx)("h3",{className:"text-[1.5rem] font-bold text-[#1B2559] dark:text-white w-full",children:"Transaction Statistics"})}),(0,r.jsx)("div",{className:"flex items-center justify-end",children:(0,r.jsx)(n.A,{initialFromDate:a,initialToDate:l,useUrlParams:!1,onApply:(e,t)=>{let a=new URLSearchParams(u.toString());e?a.set("statsFromDate",e):a.delete("statsFromDate"),t?a.set("statsToDate",t):a.delete("statsToDate"),c.replace("".concat(m,"?").concat(a.toString()),{scroll:!1})},onClear:()=>{let e=new URLSearchParams(u.toString());e.delete("statsFromDate"),e.delete("statsToDate"),c.replace("".concat(m,"?").concat(e.toString()),{scroll:!1})}})})]}),t.length>0?(0,r.jsx)(d,{type:"bar",height:400,series:[{name:"Money Earned",data:f},{name:"Money Spent",data:g}],options:h}):(0,r.jsx)("div",{className:"flex items-center justify-center h-[300px] text-gray-500",children:"No transaction data available"})]})}},55876:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});var r=a(95155),l=a(35695),s=a(12115),o=a(56164);function i(e){let{paramName:t,options:a,placeholder:i="Select...",isClearable:n=!0,className:d="",defaultValue:c=null,id:m}=e,u=(0,l.useRouter)(),x=(0,l.useSearchParams)(),[p,f]=(0,s.useState)(c);return(0,s.useEffect)(()=>{let e=x.get(t);if(e){let t=a.find(t=>t.value==e);t&&f(t)}else f(null)},[x,t,a]),(0,r.jsx)("div",{className:d,children:(0,r.jsx)(o.A,{value:p,onChange:e=>{f(e);let a=new URLSearchParams(x.toString());a.delete("skip"),(null==e?void 0:e.value)?a.set(t,e.value):a.delete(t),u.push("?".concat(a.toString()))},options:a,isClearable:n,placeholder:i,classNamePrefix:"react-select",className:"dark:bg-gray-900 dark:border-gray-800",inputId:m})})}},61843:(e,t,a)=>{"use strict";a.d(t,{default:()=>x});var r=a(95155),l=a(12115),s=a(34477);let o=(0,s.createServerReference)("40276c4b99e9b07cd9e4ec17a986b250798077d42a",s.callServer,void 0,s.findSourceMapURL,"fetchUserGamesPlayedAction");var i=a(21761),n=a(75994);let d="#4F46E5",c={colors:"#A3AED0",fontFamily:"inherit"},m=e=>({chart:{type:"bar",toolbar:{show:!1},zoom:{enabled:!1}},plotOptions:{bar:{borderRadius:6,columnWidth:"50%",dataLabels:{position:"top"}}},xaxis:{categories:e,labels:{style:{...c,fontSize:"12px"}},axisBorder:{show:!0},axisTicks:{show:!0}},yaxis:{labels:{style:c,formatter:e=>Math.round(e).toString()}},colors:[d],fill:{type:"gradient",gradient:{shade:"light",type:"vertical",shadeIntensity:1,opacityFrom:.8,opacityTo:.3,colorStops:[{offset:0,color:d,opacity:1},{offset:100,color:"#ffffff",opacity:0}]}},tooltip:{y:{formatter:e=>e.toString()}},grid:{borderColor:"transparent",strokeDashArray:4},dataLabels:{enabled:!0,formatter:e=>e.toString(),offsetY:-20,style:{fontSize:"12px",colors:["#9CA3AF"]}}}),u=e=>[{name:"Game Played",data:e}],x=e=>{let{userId:t,className:a=""}=e,[s,d]=(0,l.useState)({}),[c,x]=(0,l.useState)([]),[p,f]=(0,l.useState)(!0);(0,l.useEffect)(()=>{(async()=>{f(!0);try{var e;let a=await o({userId:t,...s.from&&{fromDate:s.from},...s.to&&{toDate:s.to}});(null==a?void 0:a.status)&&(null==a||null==(e=a.data)?void 0:e.result)?x(a.data.result):x([])}catch(e){console.error("Error fetching user games played:",e),x([])}finally{f(!1)}})()},[t,s]);let g=c.map(e=>new Date(e.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})),h=c.map(e=>e.gamesPlayed),y=m(g),b=u(h);return(0,r.jsxs)("div",{className:"flex-1 bg-white rounded-[20px] p-6 dark:bg-gray-900 dark:border-gray-800 ".concat(a),children:[(0,r.jsxs)("div",{className:"flex md:flex-row md:items-center justify-between mb-6 gap-4",children:[(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("h3",{className:"text-[1.5rem] font-bold text-[#1B2559] dark:text-white",children:"Games Played"}),(0,r.jsx)("p",{className:"text-[14px] font-medium text-[#A3AED0] dark:text-gray-400",children:"Number of games played over time"})]}),(0,r.jsx)("div",{className:"flex flex-wrap items-center gap-4",children:(0,r.jsx)(i.A,{useUrlParams:!1,onApply:(e,t)=>d({from:e,to:t}),onClear:()=>d({})})})]}),(0,r.jsx)(n.d,{loading:p,hasData:c.length>0,series:b,options:y,height:300,emptyMessage:"No games played data available"})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[5520,8291,9299,8375,2502,5991,6217,4894,8441,1684,7358],()=>t(34219)),_N_E=e.O()}]);