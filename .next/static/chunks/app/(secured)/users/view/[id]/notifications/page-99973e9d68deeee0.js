(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3493],{28866:(e,t,a)=>{Promise.resolve().then(a.bind(a,72350))},72350:(e,t,a)=>{"use strict";a.d(t,{default:()=>b});var r=a(95155),s=a(49231),i=a.n(s),l=a(12115),c=a(38543),d=a(34477);let n=(0,d.createServerReference)("4061041c0a4ab683d7ce3104daaa61ad1e43eeee48",d.callServer,void 0,d.findSourceMapURL,"updateUserNotification");var o=a(92502);let x={[o.vq.NEW_FOR_YOU]:"New for you",[o.vq.ACCOUNT_ACTIVITY]:"Account activity",[o.vq.NEW_BROWSER_SIGN_IN]:"A new browser used to sign in",[o.vq.NEW_DEVICE_LINKED]:"A new device is linked"},h=[o.vq.NEW_FOR_YOU,o.vq.NEW_DEVICE_LINKED,o.vq.ACCOUNT_ACTIVITY,o.vq.NEW_BROWSER_SIGN_IN],b=e=>{let{notificationsData:t,id:a}=e,[s,d]=(0,l.useState)(h.map(e=>{let a=t.find(t=>t.type===e);return{type:e,availability:(null==a?void 0:a.availability)||[]}})),[b,p]=(0,l.useTransition)(),u=(0,l.useRef)(t),[y,m]=(0,l.useState)(!1);(0,l.useEffect)(()=>{m(!i()(s,u.current))},[s]);let N=(e,t)=>{d(a=>a.map(a=>a.type===e?{...a,availability:a.availability.includes(t)?a.availability.filter(e=>e!==t):[...a.availability,t]}:a))},v=async()=>{p(async()=>{let e=await n({notificationPreferences:s,userId:a});e.status?(c.oR.success(e.message),u.current=s,m(!1)):c.oR.error(e.message)})},g=(e,t)=>{let a=s.find(t=>t.type===e),i=null==a?void 0:a.availability.includes(t),l=x[e],c=String(t),d=c.charAt(0).toUpperCase()+c.slice(1).toLowerCase();return(0,r.jsx)("input",{type:"checkbox",checked:i,onChange:()=>N(e,t),className:"w-4 h-4 accent-purple-600","aria-label":"".concat(l," via ").concat(d)})};return(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 dark:bg-gray-900 dark:border-gray-800",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h2",{className:"text-[1.5rem] font-bold text-[#1B2559] dark:text-white",children:"Notifications"}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Change to notification settings, the user will get the update"})]}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full text-sm text-left text-gray-700 dark:text-white",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-gray-200 text-[0.875rem] text-[#A3AED0] uppercase dark:bg-gray-900 dark:border-gray-800",children:[(0,r.jsx)("th",{className:"py-2",children:"Type"}),(0,r.jsx)("th",{className:"py-2 text-center",children:"Email"}),(0,r.jsx)("th",{className:"py-2 text-center",children:"Browser"}),(0,r.jsx)("th",{className:"py-2 text-center",children:"App"})]})}),(0,r.jsx)("tbody",{children:s.map(e=>(0,r.jsxs)("tr",{className:"border-b last:border-none dark:bg-gray-900 dark:border-gray-800",children:[(0,r.jsx)("td",{className:"py-3",children:x[e.type]}),(0,r.jsx)("td",{className:"text-center",children:g(e.type,o.ic.EMAIL)}),(0,r.jsx)("td",{className:"text-center",children:g(e.type,o.ic.BROWSER)}),(0,r.jsx)("td",{className:"text-center",children:g(e.type,o.ic.APP)})]},e.type))})]})}),(0,r.jsxs)("div",{className:"mt-6 flex gap-3 dark:bg-gray-900 dark:border-gray-800",children:[(0,r.jsx)("button",{onClick:v,className:"bg-[#4F46E5] text-white text-sm font-medium px-4 py-2 rounded-md hover:bg-purple-700 disabled:bg-purple-300 disabled:cursor-not-allowed disabled:opacity-70",disabled:!y||b,children:b?"Saving...":"Save changes"}),(0,r.jsx)("button",{className:"bg-white border border-gray-300 text-sm text-gray-700 px-4 py-2 rounded-md hover:bg-gray-50",onClick:()=>{d(u.current),m(!1)},children:"Discard"})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[8543,7459,2502,8441,1684,7358],()=>t(28866)),_N_E=e.O()}]);